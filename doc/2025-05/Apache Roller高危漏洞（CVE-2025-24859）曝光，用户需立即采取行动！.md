#  Apache Roller高危漏洞（CVE-2025-24859）曝光，用户需立即采取行动！   
原创 メ念灬蜘蛛  山石网科安全技术研究院   2025-05-16 06:41  
  
![图片](https://mmbiz.qpic.cn/sz_mmbiz_gif/NGIAw2Z6vnLzibrp7C4HmazCNIQXMJIRxvbibNMMmxDGrTN0Z9ibYzXnSNKobTzADCPgdo1b7ukKNARFEicHqQiajWw/640?wx_fmt=gif&from=appmsg&wxfrom=5&wx_lazy=1&wx_co=1&tp=webp "")  
  
![图片](https://mmbiz.qpic.cn/mmbiz_png/NGIAw2Z6vnLSsTccx7j0fJVU0OOoqKA8Jb8ZACqDjPdMzgicp2SzdZ19mFnVcBO53s1uA2cSfarQkwibVUeCeH9w/640?wx_fmt=other&wxfrom=5&wx_lazy=1&wx_co=1&tp=webp "")  
  
  
****  
****  
**Apache Tomcat曝出严重远程代码执行漏洞，攻击者可轻易控制服务器，你的系统安全吗？**  
  
****  
****  
![图片](https://mmbiz.qpic.cn/mmbiz_jpg/NGIAw2Z6vnLKuKAwMiaYedpTAYugKibaTBsHzf5pDuztECgfIgOfpG5DRF31jzhosMEj23dlx186q0zgLaIZj9lA/640?wx_fmt=other&wxfrom=5&wx_lazy=1&wx_co=1&tp=webp "")  
  
  
  
近期，Apache软件基金会曝光了一起严重的安全漏洞——CVE-2025-24859，这一漏洞在Apache Roller的多个版本中存在，其危害程度之高令人咋舌。Apache Roller作为一款广泛使用的开源博客系统，其漏洞的曝光无疑给众多用户敲响了警钟。今天，我们就来深入了解一下这一漏洞的详情，以及如何有效防范，确保我们的数据安全不受威胁。  
  
  
![图片](https://mmbiz.qpic.cn/mmbiz_png/NGIAw2Z6vnLSsTccx7j0fJVU0OOoqKA8lvpAJHElQA6DiaJniaZb0daO3Kppz9ndV9Z2hHsjMuH61r2hu0jesGSg/640?wx_fmt=other&wxfrom=5&wx_lazy=1&wx_co=1&tp=webp "")  
  
**一、漏洞背景**  
  
  
美国时间2025年4月14日，Apache软件基金会发布公告，在低于6.1.5版本的Apache Roller中存在会话管理漏洞，漏洞评分为10分，危害极其严重。  
  
  
Apache Roller是美国阿帕奇（Apache）基金会的一款基于Java的多用户开源博客系统，最初由Dave Johnson在2002年编写，之后在FreeRoller.net（现在的JRoller.com）上流行起来，后来被用于驱动Sun Microsystems公司的员工博客以及IBM DeveloperWorks博客。在此次披露的CVE-2025-24859漏洞中，在更改密码后，活动用户会话无法正确失效。当用户的密码由用户自己或管理员更改时，现有会话将保持活动状态和可用。这允许通过旧会话继续访问应用程序，即使在更改密码后也是如此，如果凭据泄露，则可能会启用未经授权的访问。山石网科应急响应中心提醒Apache Roller用户尽快采取安全措施阻止漏洞攻击。  
  
  
![图片](https://mmbiz.qpic.cn/mmbiz_png/NGIAw2Z6vnLSsTccx7j0fJVU0OOoqKA8lvpAJHElQA6DiaJniaZb0daO3Kppz9ndV9Z2hHsjMuH61r2hu0jesGSg/640?wx_fmt=other&wxfrom=5&wx_lazy=1&wx_co=1&tp=webp "")  
  
**二、漏洞评级**  
  
CVE-2025-24859：最高严重程度 10分  
  
  
![图片](https://mmbiz.qpic.cn/mmbiz_png/NGIAw2Z6vnLSsTccx7j0fJVU0OOoqKA8lvpAJHElQA6DiaJniaZb0daO3Kppz9ndV9Z2hHsjMuH61r2hu0jesGSg/640?wx_fmt=other&wxfrom=5&wx_lazy=1&wx_co=1&tp=webp "")  
  
**三、影响版本**  
  
Apache Roller：1.0.0-6.14  
  
  
![图片](https://mmbiz.qpic.cn/mmbiz_png/NGIAw2Z6vnLSsTccx7j0fJVU0OOoqKA8lvpAJHElQA6DiaJniaZb0daO3Kppz9ndV9Z2hHsjMuH61r2hu0jesGSg/640?wx_fmt=other&wxfrom=5&wx_lazy=1&wx_co=1&tp=webp "")  
  
**四、漏洞详情**  
  
****  
  
低于 6.1.5 版本的 Apache Roller 中存在会话管理漏洞，即更改密码后，活动用户会话无法正确失效。当用户的密码由用户自己或管理员更改时，现有会话将保持活动状态和可用。这允许通过旧会话继续访问应用程序，即使在更改密码后也是如此，如果凭据泄露，则可能会启用未经授权的访问。 此问题会影响 Apache Roller 6.1.4 及以下版本。 该漏洞在Apache Roller 6.1.5 中通过实施集中式会话管理来修复，该管理在更改密码或禁用用户时正确使所有活动会话失效。  
  
  
总体复现流程：  
  
1.配置apache roller环境  
  
2.在apache roller中创建新用户  
  
3.在两个页面中同时打开新用户界面，并且在一个页面中更改用户密码  
  
4.发现在更改密码后，另一个页面的用户并不会登出，尝试在该界面创建新的weblog  
  
5.创建完毕后，输入修改后的密码重新登录用户界面，发现新的weblog被创建，可以验证修改密码后，另一个页面的活动用户无法正确失效，仍然保持活动状态和可用。  
  
  
**（一）配置apache roller环境**  
  
****  
![图片](https://mmbiz.qpic.cn/mmbiz_png/NGIAw2Z6vnLSsTccx7j0fJVU0OOoqKA8WFHRW8Evk0zcqAPJSmSRktqm69UXCNGtz8L1sz1g1Wg3sEYViamG90Q/640?wx_fmt=other&wxfrom=5&wx_lazy=1&wx_co=1&tp=webp "")  
  
  
在docker中搭建apache roller 6.1.0相关环境，随后在火狐浏览器中输入localhost:8080/roller进入roller主页面，具体如图1所示：  
  
  
![](https://mmbiz.qpic.cn/mmbiz_png/Gw8FuwXLJnQOguQnseicgdgMKt4DpvNZ9cib5lJKfvc1v805vtHKI6rMOwLRuRm1TiaC1ZRicbtZDxQFextfFibIl7A/640?wx_fmt=png&from=appmsg "")  
  
图1 roller主页面  
  
  
**（二）在apache roller中创建新用户**  
  
****  
![图片](https://mmbiz.qpic.cn/mmbiz_png/NGIAw2Z6vnLSsTccx7j0fJVU0OOoqKA8WFHRW8Evk0zcqAPJSmSRktqm69UXCNGtz8L1sz1g1Wg3sEYViamG90Q/640?wx_fmt=other&wxfrom=5&wx_lazy=1&wx_co=1&tp=webp "")  
  
  
在roller主页面中点击create a user，输入相关信息后成功创建用户，具体操作如图2所示：  
  
  
![](https://mmbiz.qpic.cn/mmbiz_png/Gw8FuwXLJnQOguQnseicgdgMKt4DpvNZ9XE1rUPUP2nTtsMfYzibfW2BxBSDPW2zM8DicMzayaD5w6AcDJlVUBssw/640?wx_fmt=png&from=appmsg "")  
  
图2 创建用户  
  
  
**（三）同时打开两个用户界面**  
  
![图片](https://mmbiz.qpic.cn/mmbiz_png/NGIAw2Z6vnLSsTccx7j0fJVU0OOoqKA8WFHRW8Evk0zcqAPJSmSRktqm69UXCNGtz8L1sz1g1Wg3sEYViamG90Q/640?wx_fmt=other&wxfrom=5&wx_lazy=1&wx_co=1&tp=webp "")  
  
在火狐浏览器中，通过两个标签页同时打开新用户界面，在一个页面中进行修改密码操作，具体操作如图3-图5所示：  
  
  
![](https://mmbiz.qpic.cn/mmbiz_png/Gw8FuwXLJnQOguQnseicgdgMKt4DpvNZ9p2f7B7usZhicJw01qArTncEW7kV1ISKric4z0iaWLU4vO4a5Ee7R2qV6g/640?wx_fmt=png&from=appmsg "")  
  
图  
3   
用户主页  
  
  
![](https://mmbiz.qpic.cn/mmbiz_png/Gw8FuwXLJnQOguQnseicgdgMKt4DpvNZ9WbMTrqlSWCvR0W2moiacXoFT5rYqJbppngTOq5m9NAm5Zl47Hic2QlibQ/640?wx_fmt=png&from=appmsg "")  
  
图4 两个页面同时打开用户主页  
  
  
![](https://mmbiz.qpic.cn/mmbiz_png/Gw8FuwXLJnQOguQnseicgdgMKt4DpvNZ9FWEcb3icmhn807k7rWStlibibCiaNbUrfLYx5Cjoe9GN5JxeAm1KW2tNXg/640?wx_fmt=png&from=appmsg "")  
  
图5 在一个页面中修改密码  
  
  
**（四）测试会话失效情况**  
  
![图片](https://mmbiz.qpic.cn/mmbiz_png/NGIAw2Z6vnLSsTccx7j0fJVU0OOoqKA8WFHRW8Evk0zcqAPJSmSRktqm69UXCNGtz8L1sz1g1Wg3sEYViamG90Q/640?wx_fmt=other&wxfrom=5&wx_lazy=1&wx_co=1&tp=webp "")  
  
发现在更改密码后，另一个页面的用户并不会登出，尝试在该界面创建新的weblog，具体操作如图6-图7所示：  
  
  
![](https://mmbiz.qpic.cn/mmbiz_png/Gw8FuwXLJnQOguQnseicgdgMKt4DpvNZ9QBOHqpQP7iaeGVpyFH9rYicgknH8mrPPmdrCnGqAXbnbQBJmoxx9IfMg/640?wx_fmt=png&from=appmsg "")  
  
图6 成功修改密码  
  
  
![](https://mmbiz.qpic.cn/mmbiz_png/Gw8FuwXLJnQOguQnseicgdgMKt4DpvNZ9nib2moicEv1R6Soic5J96ey5J1L0oLT7RZcvrFJLYMnmjwDoe8m9JN5YQ/640?wx_fmt=png&from=appmsg "")  
  
图7 尝试在未修改密码页面创建weblog  
  
  
**（五）验证漏洞**  
  
![图片](https://mmbiz.qpic.cn/mmbiz_png/NGIAw2Z6vnLSsTccx7j0fJVU0OOoqKA8WFHRW8Evk0zcqAPJSmSRktqm69UXCNGtz8L1sz1g1Wg3sEYViamG90Q/640?wx_fmt=other&wxfrom=5&wx_lazy=1&wx_co=1&tp=webp "")  
  
创建完毕后，输入修改后的密码重新登录用户界面，发现新的weblog被创建，可以验证修改密码后，另一个页面的活动用户无法正确失效，仍然保持活动状态和可用，具体操作如图8-图9所示：  
  
  
![](https://mmbiz.qpic.cn/mmbiz_png/Gw8FuwXLJnQOguQnseicgdgMKt4DpvNZ9kqqYkVOII7YpOyevEcKy5Jrds00nm1cBQCbRx99R0rceb6KpeAF0KQ/640?wx_fmt=png&from=appmsg "")  
  
图8 修改密码后重新进入用户主页  
  
  
![](https://mmbiz.qpic.cn/mmbiz_png/Gw8FuwXLJnQOguQnseicgdgMKt4DpvNZ9icFWt9nVvYdoMrCTZUfjAq5y6Lia816m5mQC3vjlUcIaWCtAWjVrKndQ/640?wx_fmt=png&from=appmsg "")  
  
图9 发现新的weblog被创建  
  
  
![图片](https://mmbiz.qpic.cn/mmbiz_png/NGIAw2Z6vnLSsTccx7j0fJVU0OOoqKA8lvpAJHElQA6DiaJniaZb0daO3Kppz9ndV9Z2hHsjMuH61r2hu0jesGSg/640?wx_fmt=other&wxfrom=5&wx_lazy=1&wx_co=1&tp=webp "")  
  
**五、安全建议**  
  
1.  
增  
强会话监控  
：  
记录所有活跃会话的 IP、设备指纹、最后操作时间，检测异常会话（如密码修改后仍活跃的旧会话），触发二次认证。  
  
2.  
控  
制会话  
空闲超时时长  
：通过tomcat的web.xml配置文件中的<session-timeout>来缩短会话空闲时长，并且启用HttpOnly和secure策略。  
  
  
![](https://mmbiz.qpic.cn/mmbiz_png/Gw8FuwXLJnQOguQnseicgdgMKt4DpvNZ95YlLDDCsu1oDT8Hhm7yb4LdFCCtLLE6HHcPKOwTdU7o16qMV0ibPgPw/640?wx_fmt=png&from=appmsg "")  
  
  
3.  
升级到官方修复版本：Apache Roller 6.1.5 及以上  
。  
  
  
![图片](https://mmbiz.qpic.cn/mmbiz_png/NGIAw2Z6vnLSsTccx7j0fJVU0OOoqKA8lvpAJHElQA6DiaJniaZb0daO3Kppz9ndV9Z2hHsjMuH61r2hu0jesGSg/640?wx_fmt=other&wxfrom=5&wx_lazy=1&wx_co=1&tp=webp "")  
  
**六、相关链接**  
  
****  
  
https://securityaffairs.com/176577/security/critical-apache-roller-flaw-allows-to-retain-unauthorized-access-even-after-a-password-change.html  
  
![图片](https://mmbiz.qpic.cn/mmbiz_png/NGIAw2Z6vnLSsTccx7j0fJVU0OOoqKA8KrXv9sZf93yt4huq2kARyZSgmdnic40GayohIYiaD2FAkkAqJehJSMtQ/640?wx_fmt=other&wxfrom=5&wx_lazy=1&wx_co=1&tp=webp "")  
  
山石网科是中国网络安全行业的技术创新领导厂商，由一批知名网络安全技术骨干于2007年创立，并以首批网络安全企业的身份，于2019年9月登陆科创板（股票简称：山石网科，股票代码：688030）。  
  
现阶段，山石网科掌握30项自主研发核心技术，申请560多项国内外专利。山石网科于2019年起，积极布局信创领域，致力于推动国内信息技术创新，并于2021年正式启动安全芯片战略。2023年进行自研ASIC安全芯片的技术研发，旨在通过自主创新，为用户提供更高效、更安全的网络安全保障。目前，山石网科已形成了具备“全息、量化、智能、协同”四大技术特点的涉及  
基础设施安全、云安全、数据安全、应用安全、安全运营、工业互联网安全、信息技术应用创新、安全服务、安全教育等九大类产品服务，50余个行业和场景的完整解决方案。  
  
![图片](https://mmbiz.qpic.cn/sz_mmbiz_gif/NGIAw2Z6vnLzibrp7C4HmazCNIQXMJIRxPibycdiaNQCI4PNojUk3eYCQDZs6c5zNMUkq7yFNeYQIxicAV33eHNdFA/640?wx_fmt=gif&from=appmsg&wxfrom=5&wx_lazy=1&wx_co=1&tp=webp "")  
  
  
